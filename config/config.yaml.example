# ToolCat配置文件示例
# 将此文件复制为 config.yaml 使用自定义配置

# 服务器配置
server:
  port: 8081

# 数据库配置
database:
  # 数据库驱动类型，可选值：mysql（默认）或 postgres
  driver: mysql
  host: localhost
  # 端口：MySQL默认3306，PostgreSQL默认5432
  port: 3306
  username: root
  password: "123456"
  dbname: toolcat
  charset: utf8mb4 # 仅MySQL使用，PostgreSQL会忽略此参数

# 日志配置
logger:
  level: info # debug, info, warn, error
  outputPath: stdout
  errorPath: stderr
  development: false

# JWT配置
jwt:
  secret: "your-secret-key"
  accessTokenExpiry: 60 # 分钟
  refreshTokenExpiry: 168 # 小时 (7天)

# CSRF配置
csrf:
  enabled: true
  cookieName: XSRF-TOKEN
  headerName: X-CSRF-Token
  tokenLength: 32
  cookieMaxAge: 604800 # 秒 (7天)
  cookiePath: /
  cookieDomain: ""
  cookieSecure: false
  cookieHttpOnly: false
  cookieSameSite: Lax

# 数据库迁移配置
autoMigrate: false # 设为false禁用GORM自动迁移，使用SQL迁移文件

# 插件配置
plugins:
  # 插件目录路径
  dir: ./plugins
  # 是否启用插件监控器
  watcherEnabled: true
  # 插件扫描间隔（秒）
  scanInterval: 5
  # 是否启用热重载功能
  hotReload: true

# Prometheus配置（用于应用自身的指标暴露）
prometheus:
  # 是否启用指标暴露
  enabled: true
  # 指标路径
  metricsPath: '/metrics'
  # 启用Go运行时指标
  enableGoMetrics: true
  # 启用HTTP指标
  enableHTTPMetrics: true